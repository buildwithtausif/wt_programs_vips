<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>Dynamic Table</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    </head>
    <body>
        <div class="container">
            <h1 class="display1 text-center text-bg-dark p-4">Dynamic Table Generator</h1>
            <div class="d-flex gap-2 flex-column">
                <input type="number" class="rowNo form-control" placeholder="Enter rows you want" />
                <input type="number" class="colNo form-control" placeholder="Enter cols you want" />
                <button class="btn btn-primary">Create</button>
            </div>
            <hr />
            <div class="table-container">
                <!--Will be updated dynamically-->
                <table class="table table-striped">
                    <thead id="tableHead">
                        <!--dynamic-->
                    </thead>
                    <tbody id="tableBody">
                        <!--dynamic-->
                    </tbody>
                </table>
            </div>
        </div>
        <script type="text/javascript">
            let tableContainer = document.querySelector(".table-container");
            let rowNo = document.querySelector(".rowNo");
            let colNo = document.querySelector(".colNo");
            let btn = document.querySelector(".btn");
            btn.addEventListener("click", () => {
                if (isNaN(rowNo.value) || isNaN(colNo.value)) {
                    rowNo.classList.add("border-danger");
                    colNo.classList.add("border-danger");
                } else {
                    // remove red borders
                    rowNo.classList.remove("border-danger");
                    colNo.classList.remove("border-danger");
                    rowNo.classList.add("border-success");
                    colNo.classList.add("border-success");

                    // call table create function
                    createTable(rowNo.value, colNo.value);
                }
            });
            function createTable(row, col) {
                let tableHead = document.getElementById("tableHead");
                let tableBody = document.getElementById("tableBody");

                tableHead.innerHTML = "";
                tableBody.innerHTML = "";

                // Create table header (only once)
                let headRow = "<tr>";
                for (let j = 0; j < col; j++) {
                    headRow += `<th>Heading ${j + 1}</th>`;
                }
                headRow += "</tr>";
                tableHead.insertAdjacentHTML("beforeend", headRow);

                // Create table body rows
                for (let i = 0; i < row; i++) {
                    let rowHTML = "<tr>";
                    for (let j = 0; j < col; j++) {
                        rowHTML += `<td>Row ${i + 1}, Col ${j + 1}</td>`;
                    }
                    rowHTML += "</tr>";
                    tableBody.insertAdjacentHTML("beforeend", rowHTML);
                }
            }
        </script>
    </body>
</html>
